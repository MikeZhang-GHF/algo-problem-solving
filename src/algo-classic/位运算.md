### 位运算

#### 位运算表示集合的运算
> 如果一个集合的数据的长度并不是很长，比如n个，n<=32，python受的限制更小一些，可以更多。可以使用一个整数x来表示一个集合。x |= y << i。
> 全集，比如一个集合有n个数， 1 << n - 1


[Q1386] 安排电影院座位
> - 关键字，有一些位置被占用，无法放置家庭。一共10位，可以使用位运算和来表示位置的占用
> - 使用补集的思想，全部计算，然后减掉，加回多减去的。

```python
class Solution:
    def maxNumberOfFamilies(self, n: int, reservedSeats: List[List[int]]) -> int:
        seat = Counter()
        for x, y in reservedSeats:
            # 位置1或10不会影响，跳过
            if y == 1 or y == 10:
                continue
            # 记录每一行被占的位置情况 
            seat[x] |= 1 << (y - 2) # 2..9 => 0..7 表示集合
        
        ans = 2 * n - len(seat) * 2 # 没有被占用可以放2种 - 被占用的行
        # 枚举被占用的行可以加回来1种放法，一共8个位置，1表示被占，三种情况的一种即可
        left = 0b11110000
        mid = 0b00001111
        right = 0b00111100

        for v in seat.values():
            # 如果和任何一个摆放进行按位与运算，如果是0表示没有被占用，可以有一种摆放方式，否则，至少一个位置被占。
            if (any([not(v & x) for x in [left, mid, right]])):
                ans += 1
        return ans 
```

[//]: # 

   [Q1386]: <https://leetcode.cn/problems/cinema-seat-allocation/description/>